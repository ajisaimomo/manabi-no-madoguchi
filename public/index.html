<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📚調べる窓口</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- ルビON/OFF切り替えボタン -->
    <button onclick="toggleRuby()" class="ruby-toggle-btn" id="ruby-toggle">
        📚 <span id="ruby-btn-text">よみやすく</span>
    </button>
    
    <div class="container">
        <!-- ナビゲーションバー -->
        <div class="nav-bar">
            <a href="#search-section">
                <ruby>🔍<rt></rt></ruby> <ruby>ウェブ<rt></rt></ruby><ruby>検索<rt>けんさく</rt></ruby>
            </a>
            <a href="#ruby-section">
                <ruby>✨<rt></rt></ruby> <ruby>内容<rt>ないよう</rt></ruby><ruby>確認<rt>かくにん</rt></ruby>
            </a>
            <a href="#dict-section">
                <ruby>📖<rt></rt></ruby> <ruby>単語<rt>たんご</rt></ruby><ruby>調<rt>しら</rt></ruby>べ
            </a>
            <a href="help.html" target="_blank">
                <ruby>🤔<rt></rt></ruby> <ruby>困<rt>こま</rt></ruby>ったとき
            </a>
        </div>
        
        <h1><ruby>調<rt>しら</rt></ruby>べる<ruby>窓口<rt>まどぐち</rt></ruby> 📚✨</h1>
        <p class="subtitle">ウェブ<ruby>検索<rt>けんさく</rt></ruby> + <ruby>辞書<rt>じしょ</rt></ruby> + ルビ<ruby>振<rt>ふ</rt></ruby>りが1つのサイトで<ruby>完結<rt>かんけつ</rt></ruby></p>
        
        <!-- 1. Google検索セクション -->
        <div class="section" id="search-section">
            <h2 class="section-title">
                <span>🔍</span>
                <span class="desktop-text">ウェブ<ruby>検索<rt>けんさく</rt></ruby>（<ruby>音声<rt>おんせい</rt></ruby><ruby>入力<rt>にゅうりょく</rt></ruby><ruby>対応<rt>たいおう</rt></ruby>）</span>
                <span class="mobile-text" style="display: none;">ウェブ<ruby>検索<rt>けんさく</rt></ruby></span>
            </h2>
            <div class="input-group">
                <input type="text" id="searchInput" inputmode="verbatim" placeholder="調(しら)べたいことを入力(にゅうりょく)してください">
            </div>
            <div class="search-buttons">
                <button class="btn btn-voice" onclick="startVoiceSearch()" id="voiceBtn" title="音声入力">
                    <ruby>🎤<rt></rt></ruby> <ruby>音<rt>おん</rt></ruby><ruby>声<rt>せい</rt></ruby><ruby>入<rt>にゅう</rt></ruby><ruby>力<rt>りょく</rt></ruby>
                </button>
                <button class="btn" onclick="googleSearch()">
                    <ruby>🔍<rt></rt></ruby> <ruby>検<rt>けん</rt></ruby><ruby>索<rt>さく</rt></ruby>
                </button>
            </div>
            <p style="font-size: 14px; color: #666; margin-top: 5px;">
                📱 <strong><ruby>音声<rt>おんせい</rt></ruby><ruby>入力<rt>にゅうりょく</rt></ruby>ボタンが<ruby>反応<rt>はんのう</rt></ruby>しない<ruby>場合<rt>ばあい</rt></ruby></strong>：<ruby>入力窓<rt>にゅうりょくまど</rt></ruby>をタップ→キーボードの🎤ボタンで<ruby>音声<rt>おんせい</rt></ruby><ruby>入力<rt>にゅうりょく</rt></ruby>できます
            </p>
            <p style="font-size: 14px; color: #666; margin-top: 10px;">
                💡 <ruby>検索<rt>けんさく</rt></ruby><ruby>結果<rt>けっか</rt></ruby>は<ruby>新<rt>あたら</rt></ruby>しいタブで<ruby>開<rt>ひら</rt></ruby>きます。<ruby>結果<rt>けっか</rt></ruby>をコピーして<ruby>下<rt>した</rt></ruby>の「<ruby>内容<rt>ないよう</rt></ruby><ruby>確認<rt>かくにん</rt></ruby>」で<ruby>使<rt>つか</rt></ruby>えます。
            </p>
        </div>
        
        <!-- 2. ルビ振りセクション（2番目に移動） -->
        <div class="section" id="ruby-section">
            <h2 class="section-title">
                <span>✨</span>
                <span class="desktop-text"><ruby>内容<rt>ないよう</rt></ruby><ruby>確認<rt>かくにん</rt></ruby>（Word<ruby>貼<rt>は</rt></ruby>り<ruby>付<rt>つ</rt></ruby>け<ruby>対応<rt>たいおう</rt></ruby>）</span>
                <span class="mobile-text" style="display: none;"><ruby>内容<rt>ないよう</rt></ruby><ruby>確認<rt>かくにん</rt></ruby></span>
            </h2>
            
            <!-- 🆕 学年選択セクション -->
            <div class="grade-selector">
                <label for="gradeSelect">📚 <ruby>何年生<rt>なんねんせい</rt></ruby><ruby>以上<rt>いじょう</rt></ruby>の<ruby>漢字<rt>かんじ</rt></ruby>にルビをつけますか？</label>
                <select id="gradeSelect">
                    <option value="">学年(がくねん)を選択(せんたく)してください</option>
                    <option value="1">小1(しょういち)</option>
                    <option value="2">小2(しょうに)</option>
                    <option value="3">小3(しょうさん)</option>
                    <option value="4">小4(しょうよん)</option>
                    <option value="5">小5(しょうご)</option>
                    <option value="6">小6(しょうろく)（おすすめ）</option>
                    <option value="8">中学以上(ちゅうがくいじょう)</option>
                </select>
            </div>
            
            
            <div style="font-size: 16px; color: #555; margin-bottom: 15px; line-height: 1.8; background: #f8f9ff; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0;">
                <div style="margin-bottom: 8px;">📝 <strong>ここに<ruby>文章<rt>ぶんしょう</rt></ruby>をコピー&ペーストしてください</strong></div>
                <div style="margin-left: 15px; font-size: 15px;">
                    ・<ruby>検索<rt>けんさく</rt></ruby><ruby>結果<rt>けっか</rt></ruby>や<ruby>ニュース<rt>ニュース</rt></ruby>、<ruby>自分<rt>じぶん</rt></ruby>で<ruby>打<rt>う</rt></ruby>ち<ruby>込<rt>こ</rt></ruby>むなど<ruby>何<rt>なん</rt></ruby>でもOK！<br>
                    ・<ruby>最大<rt>さいだい</rt></ruby>2000<ruby>文字<rt>もじ</rt></ruby><ruby>程度<rt>ていど</rt></ruby>まで<ruby>処理<rt>しょり</rt></ruby><br>
                    ・<ruby>読<rt>よ</rt></ruby>み<ruby>上<rt>あ</rt></ruby>げや<ruby>ルビ<rt>ルビ</rt></ruby><ruby>付<rt>つ</rt></ruby>きの<ruby>文章<rt>ぶんしょう</rt></ruby>を<ruby>コピー<rt>コピー</rt></ruby>もできるよ<br>
                    ・<ruby>改行<rt>かいぎょう</rt></ruby>して<ruby>書<rt>か</rt></ruby>くと、<ruby>読<rt>よ</rt></ruby>み<ruby>上<rt>あ</rt></ruby>げで<ruby>間<rt>ま</rt></ruby>ができて<ruby>聞<rt>き</rt></ruby>きやすいよ
                </div>
            </div>
            <textarea id="rubyInput" rows="8" placeholder=""></textarea>
            <div class="ruby-buttons">
                <button class="btn" onclick="addRuby()" id="rubyBtn">
                    <ruby>✨<rt></rt></ruby> <ruby>ル<rt></rt></ruby><ruby>ビ<rt></rt></ruby><ruby>を<rt></rt></ruby><ruby>つ<rt></rt></ruby><ruby>け<rt></rt></ruby><ruby>る<rt></rt></ruby>
                </button>
                <button class="btn btn-danger" onclick="clearRuby()">
                    <ruby>🗑️<rt></rt></ruby> <ruby>消<rt>しょう</rt></ruby><ruby>去<rt>きょ</rt></ruby>
                </button>
                <button class="btn btn-copy" onclick="copyResult()" id="copyBtn" style="display: none;">
                    <ruby>📋<rt></rt></ruby> <ruby>結<rt>けっ</rt></ruby><ruby>果<rt>か</rt></ruby><ruby>を<rt></rt></ruby><ruby>コ<rt></rt></ruby><ruby>ピ<rt></rt></ruby><ruby>ー<rt></rt></ruby>
                </button>
                <button class="btn btn-secondary" onclick="speakRubyResult()" id="speakBtn" style="display: none;">
                    <ruby>🔊<rt></rt></ruby> <ruby>読<rt>よ</rt></ruby><ruby>み<rt></rt></ruby><ruby>上<rt>あ</rt></ruby><ruby>げ<rt></rt></ruby>
                </button>
                <button class="btn btn-danger" onclick="stopSpeaking()" id="stopBtn" style="display: none;">
                    <ruby>⏹️<rt></rt></ruby> <ruby>停<rt>てい</rt></ruby><ruby>止<rt>し</rt></ruby>
                </button>
            </div>
            <div id="rubyResult" class="result-box"></div>
        </div>
        
        <!-- 3. 辞書セクション（3番目に移動） -->
        <div class="section" id="dict-section">
            <h2 class="section-title">
                <span>📖</span>
                <span class="desktop-text"><ruby>単語<rt>たんご</rt></ruby><ruby>調<rt>しら</rt></ruby>べ（2つの<ruby>方法<rt>ほうほう</rt></ruby>）</span>
                <span class="mobile-text" style="display: none;"><ruby>単語<rt>たんご</rt></ruby><ruby>調<rt>しら</rt></ruby>べ</span>
            </h2>
            <div class="input-group">
                <input type="text" id="dictInput" inputmode="verbatim" placeholder="意味(いみ)を知(し)りたい単語(たんご)を入力(にゅうりょく)してください">
            </div>
            <div class="dict-buttons">
                <button class="btn btn-voice" onclick="startVoiceDict()" id="voiceDictBtn" title="音声入力">
                    <ruby>🎤<rt></rt></ruby> <ruby>音<rt>おん</rt></ruby><ruby>声<rt>せい</rt></ruby><ruby>入<rt>にゅう</rt></ruby><ruby>力<rt>りょく</rt></ruby>
                </button>
                <button class="btn" onclick="searchWeblio()">
                    <ruby>📚<rt></rt></ruby> <ruby>Weblio<rt>ウェブリオ</rt></ruby><ruby>辞書<rt>じしょ</rt></ruby>
                </button>
                <button class="btn btn-secondary" onclick="searchGakken()">
                    <ruby>🏫<rt></rt></ruby> <ruby>学<rt>がく</rt></ruby><ruby>研<rt>けん</rt></ruby><ruby>辞<rt>じ</rt></ruby><ruby>書<rt>しょ</rt></ruby>
                </button>
                <button class="btn btn-danger" onclick="clearDict()">
                    <ruby>🗑️<rt></rt></ruby> <ruby>消<rt>しょう</rt></ruby><ruby>去<rt>きょ</rt></ruby>
                </button>
            </div>
            <div id="dictResult" class="result-box"></div>
            <p style="font-size: 14px; color: #666; margin-top: 5px;">
                📱 <strong><ruby>音声<rt>おんせい</rt></ruby><ruby>入力<rt>にゅうりょく</rt></ruby>ボタンが<ruby>反応<rt>はんのう</rt></ruby>しない<ruby>場合<rt>ばあい</rt></ruby></strong>：<ruby>入力窓<rt>にゅうりょくまど</rt></ruby>をタップ→キーボードの🎤ボタンで<ruby>音声<rt>おんせい</rt></ruby><ruby>入力<rt>にゅうりょく</rt></ruby>できます
            </p>
            <p style="font-size: 14px; color: #666; margin-top: 10px;">
                💡 <strong><ruby>Weblio<rt>ウェブリオ</rt></ruby><ruby>辞書<rt>じしょ</rt></ruby></strong>：<ruby>詳<rt>くわ</rt></ruby>しい<ruby>説明<rt>せつめい</rt></ruby>が<ruby>見<rt>み</rt></ruby>つかります（<ruby>新<rt>あたら</rt></ruby>しいタブで<ruby>開<rt>ひら</rt></ruby>きます）<br>
                💡 <strong><ruby>学研<rt>がくけん</rt></ruby><ruby>辞書<rt>じしょ</rt></ruby></strong>：<ruby>子<rt>こ</rt></ruby>ども<ruby>向<rt>む</rt></ruby>けの<ruby>やさしい<rt>やさしい</rt></ruby><ruby>説明<rt>せつめい</rt></ruby>（<ruby>新<rt>あたら</rt></ruby>しいタブで<ruby>開<rt>ひら</rt></ruby>きます）
            </p>
        </div>
    </div>

    <!-- サイト説明・権利保護 -->
    <div style="margin-top: 60px; padding: 20px; text-align: center; color: #555; font-size: 12px; border-top: 1px solid #e2e8f0;">
        <p style="margin: 0; line-height: 1.6;">
            このサイトは、色々な事情で検索したり、その結果を読むことに課題がある方のために作りました。<br>
            できるだけ多くの人たちが、自分の知りたいことにアクセスできることが願いです。
        </p>
        
        <div style="margin-top: 20px; padding: 15px; background: #f8f9ff; border-radius: 10px; border: 1px solid #e2e8f0;">
            <p style="font-size: 13px; color: #666; margin: 5px 0;">
                ※このサイトの機能はYahoo! Text Analytics APIを使用しています
            </p>
            <p style="font-size: 13px; color: #666; margin: 5px 0;">
                ※短時間での大量利用はご遠慮ください
            </p>
            <p style="font-size: 11px; color: #999; margin: 10px 0 5px 0;">
                Copyright © 2025 調べる窓口 - 個人運営の学習支援サイト
            </p>
        </div>
        
        <small style="color: #999; margin-top: 15px; display: block;">
            当サイトはGoogle社、Weblio社と提携していません。各サービスの商標は各社に帰属します。
        </small>
    </div>

    <script src="js/main.js"></script>
</body>
</html>